<!-- App layout -->
<div class="grid grid-cols-1 lg:grid-cols-[380px_1fr]">
  <!-- info column visibile on larger displays -->
  <div class="hidden lg:block">
    <div class="h-full bg-base-200 px-8 py-12">
      <!-- main icon -->
      <div
        class="relative h-14 w-14 before:absolute before:inset-0 before:-translate-y-3 before:translate-x-2 before:rotate-12 before:rounded-xl before:bg-primary"
      >
        <div
          class="relative flex h-14 w-14 items-center justify-center rounded-xl border border-base-900/30 bg-base-900/40 backdrop-blur-md"
        >
          <i-lucide name="key-round" class="key-round"></i-lucide>
        </div>
      </div>

      <!-- info column details -->
      <div class="mt-20 space-y-6 text-sm">
        <!-- pw length box -->
        <div class="flex items-center gap-3">
          <div class="relative rounded-lg border-2 border-base-300 p-[10px]">
            <i-lucide
              name="rectangle-ellipsis"
              class="rectangle-ellipsis h-5 w-5 stroke-base-500"
            ></i-lucide>
            <!-- connecting line between boxes -->
            <div
              class="absolute -bottom-6 left-1/2 h-5 border-l-2 border-base-300/80"
            ></div>
          </div>
          <!-- box text -->
          <div class="space-y-1">
            <h2 class="text-base-500">Seleziona la lunghezza della password</h2>
            <p class="text-base-400">Una password più lunga è più sicura</p>
          </div>
        </div>

        <!-- include numbers box -->
        <div class="flex items-center gap-3">
          <div class="relative rounded-lg border-2 border-base-300 p-[10px]">
            <i-lucide
              name="text-cursor-input"
              class="text-cursor-input h-5 w-5 stroke-base-500"
            ></i-lucide>

            <!-- connecting line between boxes -->
            <div
              class="absolute -bottom-6 left-1/2 h-5 border-l-2 border-base-300/80"
            ></div>
          </div>
          <!-- box text -->
          <div class="space-y-1">
            <h2 class="text-base-500">Includi numeri</h2>
            <p class="text-base-400">Una password con numeri è più sicura</p>
          </div>
        </div>

        <!-- include symbols box -->
        <div class="flex items-center gap-3">
          <div class="relative rounded-lg border-2 border-base-300 p-[10px]">
            <i-lucide
              name="command"
              class="command h-5 w-5 stroke-base-500"
            ></i-lucide>

            <!-- connecting line between boxes -->
            <div
              class="absolute -bottom-6 left-1/2 h-5 border-l-2 border-base-300/80"
            ></div>
          </div>
          <!-- box text -->
          <div class="space-y-1">
            <h2 class="text-base-500">Includi simboli</h2>
            <p class="text-base-400">Una password con simboli è più sicura</p>
          </div>
        </div>

        <!-- includes uppecase and lowercase letters box -->
        <div class="flex items-start gap-3">
          <div class="relative rounded-lg border-2 border-base-300 p-[10px]">
            <i-lucide
              name="type"
              class="type h-5 w-5 stroke-base-500"
            ></i-lucide>
          </div>
          <!-- box text -->
          <div class="space-y-1">
            <h2 class="text-base-500">Includi maiuscole e minuscole</h2>
            <p class="text-base-400">
              Una password con maiuscole e minuscole è più sicura
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- pw generator app -->
  <!-- container -->
  <div
    class="container relative mx-auto flex max-w-7xl items-center justify-center p-8 lg:h-screen"
  >
    <!-- bg decoration grid -->
    <div class="absolute -z-10 h-full w-full">
      <div
        class="absolute inset-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:44px_44px] [mask-image:radial-gradient(ellipse_35%_80%_at_50%_0%,#000_70%,transparent_100%)]"
      ></div>
    </div>
    <!-- pw generator -->
    <div
      class="max-w-[440px] space-y-4 overflow-auto rounded-lg bg-base-200 px-7 py-8"
    >
      <!-- pw generator content -->
      <!-- main icon -->
      <div
        class="relative h-14 w-14 before:absolute before:inset-0 before:-translate-y-3 before:translate-x-2 before:rotate-12 before:rounded-xl before:bg-primary"
      >
        <div
          class="relative flex h-14 w-14 items-center justify-center rounded-xl border border-base-900/20 bg-base-900/20 backdrop-blur-md"
        >
          <i-lucide name="key-round" class="key-round"></i-lucide>
        </div>
      </div>

      <!-- text content -->
      <!-- title -->
      <div class="space-y-3">
        <h1 class="text-2xl font-semibold tracking-wide lg:text-3xl">
          Genera la tua password
        </h1>
        <p class="text-base-500">
          Seleziona cosa includere all'interno della password
        </p>
      </div>

      <!-- form -->
      <form [formGroup]="form">
        <fieldset>
          <legend class="sr-only">Options</legend>
        </fieldset>

        <!-- form options -->
        <div class="mt-5 space-y-9">
          <!-- numbers checkbox -->
          <fieldset class="flex gap-2">
            <input
              name="numbers"
              type="checkbox"
              class="form-checkbox mt-1 h-4 w-4 rounded border-primary text-primary focus:ring-primary focus:ring-offset-base-200"
              formControlName="numbers"
            />
            <div class="flex flex-col">
              <label class="text-base-600">Numbers</label>
              <p class="text-sm text-base-500">
                Include numeric digits (0 - 9) in the password
              </p>
            </div>
          </fieldset>

          <!-- symbols checkbox -->
          <fieldset class="flex gap-2">
            <input
              name="symbols"
              type="checkbox"
              class="form-checkbox mt-1 h-4 w-4 rounded border-primary text-primary focus:ring-primary focus:ring-offset-base-200"
              formControlName="symbols"
            />
            <div class="flex flex-col">
              <label class="text-base-600">Symbols</label>
              <p class="text-sm text-base-500">
                Include special characters (e.g., I, #, S) in the password.
              </p>
            </div>
          </fieldset>

          <!-- uppercase checkbox -->
          <fieldset class="flex gap-2">
            <input
              name="uppercase"
              type="checkbox"
              class="form-checkbox mt-1 h-4 w-4 rounded border-primary text-primary focus:ring-primary focus:ring-offset-base-200"
              formControlName="uppercase"
            />
            <div class="flex flex-col">
              <label class="text-base-600">Uppercase</label>
              <p class="text-sm text-base-500">
                Include uppercase letters (A-Z) in the password.
              </p>
            </div>
          </fieldset>

          <!-- input range -->
          <fieldset class="relative flex items-center">
            <input
              id="range"
              type="range"
              min="8"
              max="128"
              class="h-[7px] w-full cursor-pointer appearance-none rounded"
              formControlName="length"
            />
            <!-- progress bar styled with primary color -->
            <div
              id="progress-bar"
              class="absolute z-10 h-[7px] rounded bg-primary"
              [ngStyle]="{
                width: ((form.value.length - 6) / 122) * 100 + '%'
              }"
            ></div>
          </fieldset>
        </div>
        <!-- ((value - minValue) / (maxValue - minValue)) * 100 + "%" -->

        <!-- password display section -->
        <div class="mt-6 flex min-h-52 flex-col justify-end space-y-6">
          <!-- display -->
          <div class="flex items-start gap-4 rounded-md bg-base-300 p-4">
            <i-lucide name="key-round" class="key-round"></i-lucide>
            <p class="break-all text-sm text-base-600 lg:text-base">
              {{ password }}
            </p>
          </div>

          <!-- button -->
          <button
            class="text-md inline-flex w-full rounded-md bg-primary py-4 font-semibold tracking-wide shadow-sm outline-primary transition-colors duration-300 hover:bg-primary/80 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"
            (click)="onCopyPasswordClick()"
          >
            <span class="mx-auto flex items-center gap-2">
              <i-lucide name="copy" class="copy"></i-lucide>
              {{ buttonText }}
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
